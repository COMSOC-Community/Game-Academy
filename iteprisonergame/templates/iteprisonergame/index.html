{% extends 'core/base_game.html' %}

{% block game_content %}
    <section>
        <p>
            This is the main page for the {{ game.game_config.long_name }}. In this game, you will play several times the
            Prisoner's Dilemma and you are asked to submit your strategy for the game.
        </p>

        {% if not team %}
            <p>
                This game is meant to be played <em>in teams</em> (of possibly one player). You then need to first create or join a
                team before being able to submit your answer.
            </p>
        {% else %}
            <p>
                You are part of the team <em>{{ team.name }}</em> composed of the following
                player{{ team.players.all|pluralize }}:
                {% for p in team.players.all %}
                    {% if forloop.last %}
                        {{ p.name }}.
                    {% else %}
                        {{ p.name }},
                    {% endif %}
                {% endfor %}
                {% if answer %}
                    Your team has <em>already</em> submitted an answer.
                {% endif %}
            </p>
        {% endif %}
    </section>
{% endblock %}